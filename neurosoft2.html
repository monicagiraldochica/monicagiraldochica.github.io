<!DOCTYPE html>
<html>

<head>
	<link rel="stylesheet" type="text/css" href="styles2.css">
</head>

<body>
<h2>2. AFNI (Ubuntu)</h2>
	<p>You will need administrative privileges in order to install AFNI.</p>
			    	
	<h3>2.1. Open your Terminal application if you havent done so.</h3>
	<ul>
		<li>Click on the nine dots in the left bottom of the screen. It will show a menu with all the installed applications and a search bar at the top.</li>
		<li>Type Terminal in the search bar.</li>
		<li>Click on the application. The Terminal will open.</li>
	</ul>
			    	
	<h3>2.2. Update all your current packages</h3>
	<ul>
		<li>Type <code>sudo apt-get update</code> to update the <u>package list</u> with the latest versions of your programs (does not actually upgrade or install those new versions). You will have to type the administrator password.</li>
		<li>Type <code>apt-get upgrade</code> to upgrade those programs (already installed in your machine) that have new versions available and install the new versions.</li>
		<li>Type <code>Y</code> when prompted for confirmation</li>
		<li>If you get any errors or warnings of packages that were kept back because of any dependencies errors. run <code>sudo apt-get dist-upgrade</code> instead. The previous commmand only upgrades packages that are already installed in your machine. However, if a new version of a program requires other packages that are not yet installed or have been removed for some reason, <code>sudo apt-get upgrade</code> will not update those packages. On the other hand, <code>sudo apt-get dist-upgrade</code> will perform the upgrade and resolve any dependencies.</li>
	</ul>
					
	<h3>2.3. Find out the version of the Operating System installed in your machine</h3>
	<p>Type <code>uname -v</code>. One line of information will be printed which will contain a set of fields separated by spaces. The first field will show your OS version. In my case, this field is `#28~22.04.1-Ubuntu`. This means that I have Ubuntu 22 as my operating system. If the first field was #99~20.04.1-Ubuntu, you have Ubuntu 20 as your operating system, etc.</p>
				
	<h3>2.4. Install AFNI</h3>
	<ul>
		<li>Download the command scripts by copy-pasting the following commands into your terminal. Replace ubuntu_22 by your operating system. For example, if you have Ubuntu 20, type instead ubuntu_20.</li>
		<ul>
			<li>`cd`</li>
			<li>`curl -O https://raw.githubusercontent.com/afni/afni/master/src/other_builds/OS_notes.linux_ubuntu_22_64_a_admin.txt`</li>
			<li>`curl -O https://raw.githubusercontent.com/afni/afni/master/src/other_builds/OS_notes.linux_ubuntu_22_64_b_user.tcsh`</li>
			<li>`curl -O https://raw.githubusercontent.com/afni/afni/master/src/other_builds/OS_notes.linux_ubuntu_22_64_c_nice.tcsh`</li>
		</ul>
					
		<li>Run the command scripts by copy-pasting the following commands into your terminal. Replace ubuntu_22 by your Ubuntu version. After typing the first command, you will be asked for the administrator password.</li>
		<ul>
			<li>`sudo bash OS_notes.linux_ubuntu_22_64_a_admin.txt 2>&1 | tee o.ubuntu_22_a.txt`</il>
			<li>`tcsh OS_notes.linux_ubuntu_22_64_b_user.tcsh 2>&1 | tee o.ubuntu_22_b.txt`</li>
			<li>`tcsh OS_notes.linux_ubuntu_22_64_c_nice.tcsh 2>&1 | tee o.ubuntu_22_c.txt`</li>
		</ul>
					
		<li>Close the current terminal and open a new one</li>
	</ul>
				
	<h3>2.5. Check the installation</h3>
	<li>Run the AFNI system check by typing `afni_system_check.py -check_all`</li>
	<li>If you don't have R packages installed, you will see the following error messages: `AFNI programs show FAILURE` and `missing R packages (see rPkgsInstall)`. In that case, you must install R packages.</li>	
	<li>Install R if necessary:</li>
	<ul>
		<li>Install R dependencies. You can install them all at once or one by one in case you run into some dependency issuesneed to install other dependencies: `sudo apt-get install r-cran-lme4 r-cran-gamm4 r-cran-projpred r-cran-pbkrtest r-cran-lmertest r-cran-car r-cran-afex r-cran-rstan r-cran-threejs r-cran-shinystan r-cran-hmisc r-cran-arm r-cran-rstan r-cran-rstanarm r-cran-brms`</li>
		<li>Type `rPkgsInstall -pkgs ALL` to install R.</li>
		<li>Close the current terminal and open a new one</li>
	</ul>
	<li>Re-run he AFNI system check by typing `afni_system_check.py -check_all`</li>
	<li>Run the following commands to make sure everything is ok:</li>
	<ul>
		<li>afni</li>
		<li>suma</li>
	</ul>
</body>

</html>
